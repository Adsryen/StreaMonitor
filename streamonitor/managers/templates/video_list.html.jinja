<div id="video-list">
    {% if videos is none or videos|length == 0 %}
        <p class="full-width center">No recordings</p>
    {% else %}
        <div class="files-container-header">
            <h3 class="title">Files</h3>
            <button class="sort-action"
                hx-get="/videos/{{ streamer.username }}/{{ streamer.site }}"
                hx-trigger="click"
                hx-target="#video-list"
                hx-swap="outerHTML"
                {{ 'hx-vals=\'{"sorted": "True"}\''|safe if not sort_by_size }}
                hx-include="#play_video"
                title="Sort by {{'timestamp' if sort_by_size else 'file size'}}"
                hx-disabled-elt="this">
                    <i class="icon feather {{'icon-clock' if sort_by_size else 'icon-bar-chart'}}"></i>Sort
                    {% if sort_by_size %}
                        <input type="hidden" name="sorted" {{ 'disabled' if not sort_by_size }} id="sorted" readonly class="streamer-context context-sorted" value="{{ sort_by_size }}">
                    {% endif %}
                </button>
        </div>
        <div class="files-container total-size">
            <span>Total Space: {{ total_size | tohumanfilesize }}</span>
        </div>
        <div class="files-container video-list">
        {% for video in videos.values() %}
            {% set disable_delete = video.filename == video_to_play.filename and videos|length > 1 %}
            <div class="video-ref">
                <a href="/videos/watch/{{ streamer.username }}/{{ streamer.site }}/{{ video.filename }}"
                class="video-link link-fill"
                hx-get="/videos/watch/{{ streamer.username }}/{{ streamer.site }}/{{ video.filename }}"
                hx-trigger="click"
                hx-include=".context-sorted"
                hx-target="#content"
                hx-swap="innerHTML"><span class="filename">{{ video.shortname }}</span><span class="size">{{ video.human_readable_filesize }}</span></a>
                <button hx-delete="/videos/{{ streamer.username }}/{{ streamer.site }}/{{ video.filename }}"
                    hx-trigger="click"
                    hx-target="#video-list"
                    hx-include=".streamer-context"
                    hx-swap="outerHTML"
                    hx-disabled-elt="this"
                    {{ "disabled" if disable_delete }}
                    title="{{ 'you cannot remove a video currently loaded' if disable_delete else 'remove video' }}"
                    class="remove-video {{ 'currently-playing' if disable_delete }}">
                    <i class="icon feather icon-trash-2"></i>
                </button>
            </div>
        {% endfor %}
        </div>
    {% endif %}
</div>
{% if has_error %}
    <div class="error-modal">
        <span>{{ recordings_error_message }}</span>
        <button hx-delete="/clear" hx-swap="outerHTML" hx-target="closest .error-modal" hx-trigger="click">dismiss</button>
    </div>
{% endif %}